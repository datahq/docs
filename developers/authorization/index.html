<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  
  <link rel="shortcut icon" href="../../img/favicon.ico">
  <title>Authorization - DataHub</title>
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  <link rel="stylesheet" href="../../css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../css/theme_extra.css" type="text/css" />
  <link rel="stylesheet" href="../../css/highlight.css">
  <link href="../../css/marmaid.css" rel="stylesheet">
  <link href="../../css/main.css" rel="stylesheet">
  
  <script>
    // Current page data
    var mkdocs_page_name = "Authorization";
    var mkdocs_page_input_path = "developers/authorization.md";
    var mkdocs_page_url = "/developers/authorization/";
  </script>
  
  <script src="../../js/jquery-2.1.1.min.js"></script>
  <script src="../../js/modernizr-2.8.3.min.js"></script>
  <script type="text/javascript" src="../../js/highlight.pack.js"></script> 
  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
      <div class="wy-side-nav-search">
        <a href="../.." class="icon icon-home"> DataHub</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
	<ul class="current">
	  
          
            <li class="toctree-l1">
		
    <a class="" href="../..">Home</a>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Developers</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../">Getting started</a>
                </li>
                <li class="">
                    
    <a class="" href="../platform/">Platform</a>
                </li>
                <li class="">
                    
    <a class="" href="../deploy/">Deploy</a>
                </li>
                <li class="">
                    
    <a class="" href="../api/">API</a>
                </li>
                <li class="">
                    
    <a class="" href="../publish/">Publish</a>
                </li>
                <li class="">
                    
    <a class="" href="../views/">Views</a>
                </li>
                <li class=" current">
                    
    <a class="current" href="./">Authorization</a>
    <ul class="subnav">
            
    <li class="toctree-l3"><a href="#authorization-set-up">Authorization Set up</a></li>
    
        <ul>
        
            <li><a class="toctree-l4" href="#introducing-roles">Introducing Roles</a></li>
        
            <li><a class="toctree-l4" href="#actions">Actions</a></li>
        
            <li><a class="toctree-l4" href="#examples">Examples</a></li>
        
        </ul>
    

    </ul>
                </li>
                <li class="">
                    
    <a class="" href="../authentication/">Authentication</a>
                </li>
                <li class="">
                    
    <a class="" href="../user-stories/">User Stories</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Publishers</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../publishers/">Getting started</a>
                </li>
                <li class="">
                    
    <a class="" href="../../publishers/core-datasets/">Core Datasets</a>
                </li>
                <li class="">
                    
    <a class="" href="../../publishers/core-data-curators/">Core Data Curators</a>
                </li>
                <li class="">
                    
    <a class="" href="../../publishers/cli/">CLI</a>
                </li>
                <li class="">
                    
    <a class="" href="../../publishers/views/">Views</a>
                </li>
    </ul>
	    </li>
          
        </ul>
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../..">DataHub</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../..">Docs</a> &raquo;</li>
    
      
        
          <li>Developers &raquo;</li>
        
      
    
    <li>Authorization</li>
    <li class="wy-breadcrumbs-aside">
      
        <a href="https://github.com/datahq/docs/edit/master/docs/developers/authorization.md"
          class="icon icon-github"> Edit on GitHub</a>
      
    </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <h1 id="authorization-set-up">Authorization Set up</h1>
<p>Authorization is the process of giving someone permission to do or have something. In multi-user systems, a system administrator defines for the system which users are allowed access to the system and what privileges of use.</p>
<p>We have a standard access control matrix with 3 axes:</p>
<ul>
<li>Actions: CREATE, READ, WRITE, DELETE, PURGE etc. these can vary among different entities</li>
<li>Entities (object): User, Publisher, Package, Package Resource, …</li>
<li>Users: a user or type of user</li>
</ul>
<p>Permission is a tuple of <code>(Users, Entities, Actions)</code></p>
<h2 id="introducing-roles">Introducing Roles</h2>
<p>It can be tiresome and inefficient to list for every object all the users permitted to perform a given action. For example:</p>
<ul>
<li>Many users in an organization get same set of privileges because of their position in the organization.</li>
<li>We want to change the permissions associated with a certain level in the organization and to have those permissions changed for all people in that level</li>
<li>A user may change level frequently (ex. user may get promoted)</li>
</ul>
<p>So we create roles</p>
<ul>
<li>Per object roles e.g. Package Owner</li>
<li>Per system roles e.g. System Administrator</li>
<li>A list or algorithm for assigning Users =&gt; Roles</li>
</ul>
<p>Access control algorithm:
<pre class="highlight"><code class="linenums">is_allowed(user, entity, action)</code></pre></p>
<p>For this user: what roles do they have related to this entity and the system?
Given those roles: what actions do they have: UNIONrole</p>
<p>Note: it would get more complex if some roles deny access. E.g. Role: Spammer might mean you are denied action to posting etc. Right now we don’t have that issue.</p>
<p>Is the desired action in that set?</p>
<h3 id="roles">Roles</h3>
<p>The example roles are given below.</p>
<ul>
<li>Package<ul>
<li>Owner  =&gt; all actions</li>
<li>Editor<ul>
<li>Read</li>
<li>Create</li>
<li>Delete</li>
<li>Undelete</li>
<li>Update</li>
<li>Tag</li>
</ul>
</li>
<li>Viewer  =&gt; Only read</li>
</ul>
</li>
<li>Publisher<ul>
<li>Owner =&gt; all actions on Publisher</li>
<li>Editor<ul>
<li>ViewMemberList</li>
<li>AddMember</li>
<li>RemoveMember</li>
<li>Read</li>
</ul>
</li>
<li>Viewer =&gt; Only Read</li>
</ul>
</li>
<li>System<ul>
<li>LoggedIn<ul>
<li>Package::Create</li>
<li>Publisher::Create</li>
</ul>
</li>
<li>All =&gt; Package::Read on public packages</li>
<li>Sysadmin =&gt; all actions</li>
</ul>
</li>
</ul>
<p><a href="https://github.com/frictionlessdata/dpr-api/blob/master/app/auth/authorization.py#L11">This</a> contains the current roles.</p>
<h3 id="business-roles">Business roles</h3>
<ul>
<li>Publisher Owner<ul>
<li>Publisher::Owner</li>
</ul>
</li>
<li>Publisher Member<ul>
<li>Publisher::Editor</li>
</ul>
</li>
<li>(Logged in) User<ul>
<li>System::LoggedIn</li>
</ul>
</li>
<li>Sys Admin<ul>
<li>System::Sysadmin</li>
</ul>
</li>
<li>Visitor<ul>
<li>System::Anonymous</li>
</ul>
</li>
</ul>
<blockquote>
<p>NOTE: business roles and authorization roles are distinct. Of course, in implementing access control we will use the business logic inherent in business roles. However, business roles are not explicitly present in the access control system.</p>
</blockquote>
<h2 id="actions">Actions</h2>
<blockquote>
<p>Note: not an exhaustive list. <a href="https://github.com/frictionlessdata/dpr-api/blob/master/app/auth/authorization.py#L11">This</a> contains the current Actions.</p>
</blockquote>
<ul>
<li>Package:<ul>
<li>Package::Read</li>
<li>Package::Create</li>
<li>Package::Delete</li>
<li>Package::Undelete</li>
<li>Package::Purge</li>
<li>Package::Update</li>
<li>Package::Tag</li>
</ul>
</li>
<li>Publisher:<ul>
<li>Publisher::Create</li>
<li>Publisher::AddMember</li>
<li>Publisher::RemoveMember</li>
<li>Publisher::Read</li>
<li>Publisher::Delete</li>
<li>Publisher::Update</li>
<li>Publisher::ViewMemberList</li>
</ul>
</li>
</ul>
<h2 id="examples">Examples</h2>
<h3 id="first-time-visitor-or-not-logged-in">First time visitor or not logged in:</h3>
<p>The business role will be <code>System::Anonymous</code>. So the user can only has the action permission of <code>Package::Read</code>.
So the user can only view the public data packages.</p>
<h3 id="logged-in-user">Logged in user:</h3>
<p>The business role will be <code>System::LoggedIn</code> . So the user will have permission of :</p>
<ul>
<li><code>Publisher::Create</code> : The user can create new publisher.</li>
<li><code>Package::Create</code> : The user can create new data package.</li>
<li><code>Package::Read</code> : Can read public data packages</li>
</ul>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../authentication/" class="btn btn-neutral float-right" title="Authentication">Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="../views/" class="btn btn-neutral" title="Views"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
  </div>

  Built with <a href="http://www.mkdocs.org">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
	  
        </div>
      </div>

    </section>
    
  </div>

  <div class="rst-versions" role="note" style="cursor: pointer">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
          <a href="https://github.com/datahq/docs" class="fa fa-github" style="float: left; color: #fcfcfc"> GitHub</a>
      
      
        <span><a href="../views/" style="color: #fcfcfc;">&laquo; Previous</a></span>
      
      
        <span style="margin-left: 15px"><a href="../authentication/" style="color: #fcfcfc">Next &raquo;</a></span>
      
    </span>
</div>
    <script src="../../js/theme.js"></script>
      <script src="../../js/mermaid.min.js"></script>

</body>
</html>
